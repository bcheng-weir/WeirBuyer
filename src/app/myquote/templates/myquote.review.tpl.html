<div>
    <div class="row">
        <div class="col-md-9">
            <p><b><span ng-bind-html='review.labels.Customer'></span><span class="text-danger">{{myquote.Customer.name}}</span></b></p>
            <p><b><span ng-bind-html='review.labels.QuoteNumber'></span><span class="text-danger"  ng-if="myquote.Quote.xp.Status != 'DR'">{{myquote.Quote.ID}}</span></b></p>
            <p><b><span ng-bind-html='review.labels.QuoteName'></span><span class="text-danger">{{myquote.Quote.xp.Name}}</span></b></p>
        </div>

        <div class="col-md-3">
            <h2 class="pull-right">
                <button ng-if="review.Step=='Review'" class="btn btn-success" ui-sref="home" ng-bind-html='review.labels.Share'></button>
                <button ng-if="review.Step=='Submit'" class="btn btn-success" ui-sref="home" ng-bind-html='review.labels.NextStep'></button>
            </h2>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <table class="table table-bordered oc-table-responsive weir-results-table">
                <thead>
                <tr>
                    <th ng-bind-html='review.labels.SerialNum'></th>
                    <th ng-bind-html='review.labels.TagNum'></th>
                    <th ng-bind-html='review.labels.PartNum'></th>
                    <th ng-bind-html='review.labels.PartDesc'></th>
                    <th ng-bind-html='review.labels.RecRepl'></th>
                    <th ng-bind-html='review.labels.LeadTime'></th>
                    <th ng-bind-html='review.labels.PricePer'></th>
                    <th ng-bind-html='review.labels.Quantity'></th>
                    <th ng-if="review.Step=='Review'" class="button-th"></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="line in review.LineItems">
                    <td>{{line.xp.SN}}</td>
                    <td>{{line.xp.TagNumber}}</td>
                    <td>{{line.Product.Name}}</td>
                    <td>{{line.Product.Description}}</td>
                    <td>{{line.Product.xp.ReplacementSchedule}}</td>
                    <td>{{line.Product.xp.LeadTime}}</td>
                    <td ng-switch on="myquote.Quote.xp.Currency" class='text-right'>
		        <span ng-switch-when="EUR">{{line.UnitPrice | currency:'&euro; '}}</span>
			<span ng-switch-when="GBP">{{line.UnitPrice | currency:'&#163; '}}</span>
			<span ng-switch-default>{{line.UnitPrice | currency:'&#163; '}}</span>
		    </td>

		    </td>
                    <td class="form-inline"><input  type="number" class="form-control" ng-model="line.Quantity" ng-min="0"
                                                   ng-pattern="/^[0-9]{1,5}$/" pattern-err-type="wholenumber" style="width:50%"
						   ng-disabled="review.Step!='Review'" />
                        <button ng-if="review.Step=='Review'" class="btn btn-default" ng-bind-html='review.labels.Update' ng-click="review.updateLineItem(myquote.Quote.ID,line)"></button>
                    </td>
                    <td ng-if="review.Step=='Review'" ng-click="review.deleteLineItem(myquote.Quote.ID,line.ID)"><i class="fa fa-times" aria-hidden="true"></i></td>
                </tr>
                <tr ng-if="review.LineItems.length > 0">
                    <td class="button-th" colspan="5"></td>
                    <td ng-bind-html='review.labels.Total'></td>
                    <td ng-switch on="myquote.Quote.xp.Currency" class='text-right'>
		        <span ng-switch-when="EUR">{{myquote.Quote.Total | currency:'&euro; '}}</span>
			<span ng-switch-when="GBP">{{myquote.Quote.Total | currency:'&#163; '}}</span>
			<span ng-switch-default>{{myquote.Quote.Total | currency:'&#163; '}}</span>
		    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <p><b><span ng-bind-html='review.labels.YourReference'></span><br>
                <span class="text-danger">{{myquote.Quote.xp.RefNum}}</span></b></p>
	    <p><b><span>{{review.labels.DeliveryAddress}}</span></b></p>
            <div ng-if="myquote.ShippingAddress.Country=='FR'">
                {{myquote.ShippingAddress.CompanyName}}<br>
                {{myquote.ShippingAddress.Street1}}<br>
                {{myquote.ShippingAddress.Street2}}<br>
                {{myquote.ShippingAddress.Zip}} {{myquote.ShippingAddress.City}}<br>
                {{review.country(myquote.ShippingAddress.Country)}}
            </div>
            <div ng-if="myquote.ShippingAddress.Country=='GB'">
                {{myquote.ShippingAddress.CompanyName}}<br>
                {{myquote.ShippingAddress.Street1}}<br>
                {{myquote.ShippingAddress.Street2}}<br>
                {{myquote.ShippingAddress.City}}<br>
                {{myquote.ShippingAddress.Zip}}<br>
                {{review.country(myquote.ShippingAddress.Country)}}
            </div>
            <div ng-if="myquote.ShippingAddress.Country!='GB' && myquote.ShippingAddress.Country!='FR'">
                {{myquote.ShippingAddress.CompanyName}}<br>
                {{myquote.ShippingAddress.Street1}}<br>
                {{myquote.ShippingAddress.Street2}}<br>
                {{myquote.ShippingAddress.City}}, {{myquote.ShippingAddress.State}} {{myquote.ShippingAddress.Zip}}<br>
                {{review.country(myquote.ShippingAddress.Country)}}
            </div>
	    <span ng-if="review.Step=='Review'" ng-click="review.changeAddress()">
		    <a href="#" ng-html-bind="review.labels.ChangeAddr"></a>
	    </span>
        </div>
        <div class="col-md-6">
            <p><b><span ng-bind-html='review.labels.YourAttachments'></span><br>
                </b></p>
            <p><b><span ng-bind-html='review.labels.CommentsHeader'></span></b></p>
            <p><textarea rows='4' cols='40' maxlength="1000" ng-model='myquote.Quote.Comments'
		    ng-readonly="review.Step!='Review'"></textarea></p>
        </div>
    </div>
</div>
